#!/bin/zsh


words=$1
ts=($(adb shell pm list packages | grep "$words"))

# NOT FOUND ANY MATCHED PACKAGES
[[ -z $ts ]] && print -u2 NOT FOUND: $words && return 1

# FOUND ONLY MATCHED
(( $#ts == 1 )) && {
    print UNINSTALL: ${ts[1]#package:}
    p=${${ts[1]#package:}%$'\u0d'}
    adb uninstall ${ts[1]#package:}
    return
}

print -l $ts
